syntax = "proto3";
package com.cognite.seismic;

import "types.proto";

/* Service for quering seismic data. */
service Query {
    rpc GetSurvey (SurveyQueryRequest) returns (GetSurveyResponse) {}
    rpc GetSurveyFiles(SurveyQueryRequest) returns (GetSurveyFilesResponse) {}
    rpc GetFile (FileQueryRequest) returns (GetFileResponse) {}
    rpc GetBinaryHeader (FileQueryRequest) returns (GetBinaryHeaderResponse) {}
    rpc GetTextHeader (FileQueryRequest) returns (GetTextHeaderResponse) {}
}

// Requests messages

/* Request survey by id or name. */
message SurveyQueryRequest {
    oneof survey {
        string id = 1;
        string name = 2;
    }
}

/* Request file by id or name. */
message FileQueryRequest {
    oneof file {
        string id = 1;
        string name = 2;
    }
}

// Response messages

message GetSurveyResponse {
    RegisteredSurvey survey = 1;
}

message GetSurveyFilesResponse {
    repeated FileIdName files = 1;
}

message GetFileResponse {
    RegisteredFile file = 1;
}

message GetBinaryHeaderResponse {
    BinaryHeader meta = 1;
}

message GetTextHeaderResponse {
    TextHeader meta = 1;
}
